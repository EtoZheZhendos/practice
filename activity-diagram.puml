@startuml TaskManager Activity Diagram

!theme plain
skinparam backgroundColor #FFFFFF
skinparam activity {
  BackgroundColor #E3F2FD
  BorderColor #1976D2
  FontColor #1565C0
  StartColor #4CAF50
  EndColor #F44336
  DiamondBackgroundColor #FFF3E0
  DiamondBorderColor #FF9800
}

title Диаграмма активности - TaskManager

|Пользователь|
start
:Открытие приложения;
:Проверка авторизации;

if (Авторизован?) then (да)
  :Переход на Dashboard;
else (нет)
  :Отображение страницы входа;
  :Ввод email и пароля;
  :Валидация данных;
  
  if (Данные корректны?) then (да)
    :Отправка запроса на сервер;
    :Проверка учетных данных;
    
    if (Пользователь найден?) then (да)
      if (Пароль верный?) then (да)
        :Генерация JWT токена;
        :Сохранение токена;
        :Переход на Dashboard;
      else (нет)
        :Отображение ошибки;
        stop
      endif
    else (нет)
      :Отображение ошибки;
      stop
    endif
  else (нет)
    :Отображение ошибок валидации;
    stop
  endif
endif

|Dashboard|
:Загрузка данных пользователя;
:Загрузка задач пользователя;
:Отображение Dashboard;

|Управление задачами|
fork
  :Просмотр списка задач;
  :Применение фильтров;
  :Поиск задач;
fork again
  :Создание новой задачи;
  :Заполнение формы задачи;
  :Выбор категорий;
  :Выбор проекта;
  :Назначение исполнителей;
  :Сохранение задачи;
fork again
  :Редактирование задачи;
  :Изменение статуса;
  :Обновление приоритета;
  :Изменение назначений;
  :Сохранение изменений;
fork again
  :Добавление комментария;
  :Ввод текста комментария;
  :Сохранение комментария;
end fork

|Управление проектами|
fork
  :Просмотр проектов;
  :Создание проекта;
  :Редактирование проекта;
  :Удаление проекта;
fork again
  :Управление категориями;
  :Создание категории;
  :Редактирование категории;
  :Удаление категории;
end fork

|Профиль пользователя|
:Просмотр профиля;
:Редактирование данных;
:Изменение пароля;
:Сохранение изменений;

|Выход|
:Нажатие "Выйти";
:Очистка токена;
:Перенаправление на вход;

stop

@enduml 